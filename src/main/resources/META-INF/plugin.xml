<idea-plugin>
    <id>com.brotech.autoserializable-checker</id>
    <name>Autoserializable Checker</name>
    <vendor email="support@brotech.com" url="https://brotech.com">brotech</vendor>

    <description><![CDATA[
    Monitors changes to Java files containing @AutoSerializable annotation or implementing AutoSerializable interface.
    Displays warnings when such files are modified to ensure serialization compatibility.
    ]]></description>

    <change-notes><![CDATA[
    <h3>1.0.0</h3>
    <ul>
        <li>Initial release</li>
        <li>Real-time file modification detection</li>
        <li>Warning notifications for @AutoSerializable changes</li>
    </ul>
    ]]></change-notes>

    <!-- Please see https://plugins.jetbrains.com/docs/intellij/build-number-ranges.html for description -->
    <idea-version since-build="231"/>

    <!-- Depends on Java plugin -->
    <depends>com.intellij.modules.java</depends>

    <extensions defaultExtensionNs="com.intellij">
        <!-- Register notification group -->
        <notificationGroup id="Autoserializable Warnings"
                           displayType="BALLOON"
                           isLogByDefault="true"/>

        <!-- Register settings state service -->
        <applicationService serviceImplementation="com.brotech.autoserializablechecker.core.AutoserializableSettingsState"/>

        <!-- Register startup activity -->
        <postStartupActivity implementation="com.brotech.autoserializablechecker.core.AutoserializableStartupActivity"/>

        <!-- Register inspection -->
        <localInspection language="JAVA"
                         shortName="AutoserializableModification"
                         displayName="AutoSerializable class modification"
                         groupName="Serialization"
                         enabledByDefault="true"
                         level="WARNING"
                         implementationClass="com.brotech.autoserializablechecker.core.AutoserializableInspection"/>
        
        <!-- Register settings UI -->
        <projectConfigurable instance="com.brotech.autoserializablechecker.core.AutoserializableSettings"
                             displayName="Autoserializable Checker"/>

    </extensions>

    <actions>
        <!-- Right-click menu action -->
        <action id="CheckAutoserializable"
                class="com.brotech.autoserializablechecker.core.CheckAutoserializableAction"
                text="Check for @AutoSerializable"
                description="Analyze current file for @AutoSerializable usage">
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
        </action>
        
        <!-- Tools menu action -->
        <action id="CheckAutoserializableToolsMenu"
                class="com.brotech.autoserializablechecker.core.CheckAutoserializableAction"
                text="Analyze AutoSerializable Classes"
                description="Analyze current file for @AutoSerializable usage">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </action>
    </actions>
</idea-plugin>